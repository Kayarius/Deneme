    <!DOCTYPE html>
    <html lang="tr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Okul Takvim Sistemi - Etkinlik Yönetimi</title>
        <link rel="stylesheet" href="dashboard-style.css">
    </head>
    <body>
        <!-- Main Container -->
        <div class="app-wrapper">
            <!-- Sidebar -->
            <aside id="sidebar" class="sidebar">
                <div class="sidebar-header">
                    <div class="logo">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg>
                        <h2>Okul Takvimi</h2>
                    </div>
                    <button class="sidebar-toggle" onclick="toggleSidebar()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                    </button>
                </div>

                <!-- User Profile -->
                <div class="user-profile">
                    <div class="user-avatar" id="userAvatar">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                    </div>
                    <div class="user-info">
                        <h3 id="userName">Kullanıcı</h3>
                        <p id="userRole">Rol</p>
                    </div>
                </div>

                <!-- Navigation Menu -->
                <nav class="sidebar-nav">
                    <div class="nav-section">
                        <h4>Ana Menü</h4>
                        <a href="#" class="nav-item active" data-page="events">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            <span>Etkinlik Yönetimi</span>
                        </a>
                        <a href="calendar.html" class="nav-item">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="9" y1="3" x2="9" y2="21"></line>
                                <line x1="15" y1="3" x2="15" y2="21"></line>
                            </svg>
                            <span>Takvim Görünümü</span>
                        </a>
                        <a href="export.html" class="nav-item">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            <span>Dışa Aktarma</span>
                        </a>
                    </div>

                    <div class="nav-section">
                        <h4>İstatistikler</h4>
                        <div class="stat-cards">
                            <div class="stat-card">
                                <div class="stat-icon" style="background: #10b98120; color: #10b981;">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                    </svg>
                                </div>
                                <div class="stat-info">
                                    <p>Toplam Etkinlik</p>
                                    <h3 id="totalEvents">0</h3>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon" style="background: #3b82f620; color: #3b82f6;">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                </div>
                                <div class="stat-info">
                                    <p>Benim Etkinliklerim</p>
                                    <h3 id="myEvents">0</h3>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon" style="background: #ef444420; color: #ef4444;">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <line x1="12" y1="8" x2="12" y2="12"></line>
                                        <line x1="12" y1="16" x2="12.01" y2="16"></line>
                                    </svg>
                                </div>
                                <div class="stat-info">
                                    <p>Çakışmalar</p>
                                    <h3 id="conflictCount">0</h3>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="nav-section">
                        <h4>Hesap</h4>
                        <a href="#" class="nav-item" onclick="logout()">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                                <polyline points="16 17 21 12 16 7"></polyline>
                                <line x1="21" y1="12" x2="9" y2="12"></line>
                            </svg>
                            <span>Çıkış Yap</span>
                        </a>
                    </div>
                </nav>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Top Header -->
                <header class="top-header">
                    <div class="header-left">
                        <button class="mobile-menu-btn" onclick="toggleSidebar()">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="3" y1="12" x2="21" y2="12"></line>
                                <line x1="3" y1="6" x2="21" y2="6"></line>
                                <line x1="3" y1="18" x2="21" y2="18"></line>
                            </svg>
                        </button>
                        <h1>Etkinlik Yönetimi</h1>
                    </div>
                    <div class="header-right">
                        <button class="icon-btn" onclick="refreshEvents()">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23 4 23 10 17 10"></polyline>
                                <polyline points="1 20 1 14 7 14"></polyline>
                                <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                            </svg>
                        </button>
                        <button class="btn-primary" onclick="openAddEventModal()">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            <span>Yeni Etkinlik</span>
                        </button>
                    </div>
                </header>

                <!-- Filter Bar -->
                <div class="filter-bar">
                    <div class="search-box">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                        </svg>
                        <input type="text" id="searchInput" placeholder="Etkinlik ara..." oninput="filterEvents()">
                    </div>
                    
                    <div class="filters">
                        <select id="filterType" onchange="filterEvents()">
                            <option value="all">Tüm Türler</option>
                            <option value="lesson">Ders</option>
                            <option value="exam">Sınav</option>
                            <option value="lab">Laboratuvar</option>
                            <option value="meeting">Toplantı</option>
                            <option value="event">Etkinlik</option>
                            <option value="homework">Ödev</option>
                        </select>

                        <select id="filterStatus" onchange="filterEvents()">
                            <option value="all">Tüm Durumlar</option>
                            <option value="scheduled">Planlandı</option>
                            <option value="inprogress">Devam Ediyor</option>
                            <option value="completed">Tamamlandı</option>
                            <option value="cancelled">İptal Edildi</option>
                        </select>

                        <select id="filterOwnership" onchange="filterEvents()">
                            <option value="all">Tüm Etkinlikler</option>
                            <option value="my">Benim Etkinliklerim</option>
                            <option value="others">Diğer Etkinlikler</option>
                        </select>

                        <button class="btn-secondary" onclick="resetFilters()">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="1 4 1 10 7 10"></polyline>
                                <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
                            </svg>
                            Sıfırla
                        </button>
                    </div>
                </div>

                <!-- Events Grid -->
                <div class="events-container">
                    <div class="events-header">
                        <h2>Etkinlikler</h2>
                        <div class="view-options">
                            <button class="view-btn active" data-view="grid" onclick="changeView('grid')">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="7" height="7"></rect>
                                    <rect x="14" y="3" width="7" height="7"></rect>
                                    <rect x="14" y="14" width="7" height="7"></rect>
                                    <rect x="3" y="14" width="7" height="7"></rect>
                                </svg>
                            </button>
                            <button class="view-btn" data-view="list" onclick="changeView('list')">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="8" y1="6" x2="21" y2="6"></line>
                                    <line x1="8" y1="12" x2="21" y2="12"></line>
                                    <line x1="8" y1="18" x2="21" y2="18"></line>
                                    <line x1="3" y1="6" x2="3.01" y2="6"></line>
                                    <line x1="3" y1="12" x2="3.01" y2="12"></line>
                                    <line x1="3" y1="18" x2="3.01" y2="18"></line>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div id="eventsGrid" class="events-grid"></div>

                    <div id="emptyState" class="empty-state" style="display: none;">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg>
                        <h3>Henüz etkinlik yok</h3>
                        <p>Yeni bir etkinlik ekleyerek başlayın</p>
                        <button class="btn-primary" onclick="openAddEventModal()">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            İlk Etkinliği Ekle
                        </button>
                    </div>
                </div>
            </main>
        </div>

        <!-- Event Modal -->
        <div id="eventModal" class="modal">
            <div class="modal-backdrop" onclick="closeEventModal()"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modalTitle">Yeni Etkinlik</h3>
                    <button class="modal-close" onclick="closeEventModal()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>

                <form id="eventForm" class="modal-body">
                    <input type="hidden" id="eventId">
                    <input type="hidden" id="eventOwner">

                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="eventTitle">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                </svg>
                                Etkinlik Adı *
                            </label>
                            <input type="text" id="eventTitle" required placeholder="Ör: Matematik Sınavı">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="eventType">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path>
                                    <line x1="7" y1="7" x2="7.01" y2="7"></line>
                                </svg>
                                Tür *
                            </label>
                            <select id="eventType" required>
                                <option value="lesson">Ders</option>
                                <option value="exam">Sınav</option>
                                <option value="lab">Laboratuvar</option>
                                <option value="meeting">Toplantı</option>
                                <option value="event">Etkinlik</option>
                                <option value="homework">Ödev</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="eventPriority">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="12" y1="8" x2="12" y2="12"></line>
                                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                                </svg>
                                Öncelik *
                            </label>
                            <select id="eventPriority" required>
                                <option value="low">Düşük</option>
                                <option value="medium" selected>Orta</option>
                                <option value="high">Yüksek</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="eventDate">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                    <line x1="16" y1="2" x2="16" y2="6"></line>
                                    <line x1="8" y1="2" x2="8" y2="6"></line>
                                    <line x1="3" y1="10" x2="21" y2="10"></line>
                                </svg>
                                Tarih *
                            </label>
                            <input type="date" id="eventDate" required>
                        </div>

                        <div class="form-group">
                            <label for="eventStatus">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 11 12 14 22 4"></polyline>
                                    <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                                </svg>
                                Durum
                            </label>
                            <select id="eventStatus">
                                <option value="scheduled">Planlandı</option>
                                <option value="inprogress">Devam Ediyor</option>
                                <option value="completed">Tamamlandı</option>
                                <option value="cancelled">İptal Edildi</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="eventStartTime">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <polyline points="12 6 12 12 16 14"></polyline>
                                </svg>
                                Başlangıç Saati *
                            </label>
                            <input type="time" id="eventStartTime" required>
                        </div>

                        <div class="form-group">
                            <label for="eventEndTime">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <polyline points="12 6 12 12 16 14"></polyline>
                                </svg>
                                Bitiş Saati *
                            </label>
                            <input type="time" id="eventEndTime" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="eventLocation">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                    <circle cx="12" cy="10" r="3"></circle>
                                </svg>
                                Konum
                            </label>
                            <input type="text" id="eventLocation" placeholder="Ör: A101 Sınıfı">
                        </div>

                        <div class="form-group">
                            <label for="eventTeacher">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="12" cy="7" r="4"></circle>
                                </svg>
                                Öğretmen
                            </label>
                            <input type="text" id="eventTeacher" placeholder="Ör: Ahmet Yılmaz">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="eventDescription">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="17" y1="10" x2="3" y2="10"></line>
                                    <line x1="21" y1="6" x2="3" y2="6"></line>
                                    <line x1="21" y1="14" x2="3" y2="14"></line>
                                    <line x1="17" y1="18" x2="3" y2="18"></line>
                                </svg>
                                Açıklama
                            </label>
                            <textarea id="eventDescription" rows="3" placeholder="Etkinlik detayları..."></textarea>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="eventStudents">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="9" cy="7" r="4"></circle>
                                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                                </svg>
                                Sınıflar
                            </label>
                            <input type="text" id="eventStudents" placeholder="Ör: 9A, 9B, 10A">
                        </div>
                    </div>

                    <div id="conflictWarning" class="conflict-warning" style="display: none;">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="12"></line>
                            <line x1="12" y1="16" x2="12.01" y2="16"></line>
                        </svg>
                        <div>
                            <strong>Çakışma Uyarısı!</strong>
                            <p id="conflictMessage"></p>
                        </div>
                    </div>
                </form>

                <div class="modal-footer">
                    <button type="button" class="btn-secondary" onclick="closeEventModal()">İptal</button>
                    <button type="submit" form="eventForm" class="btn-primary">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                            <polyline points="17 21 17 13 7 13 7 21"></polyline>
                            <polyline points="7 3 7 8 15 8"></polyline>
                        </svg>
                        Kaydet
                    </button>
                </div>
            </div>
        </div>

        <!-- Toast Notification -->
        <div id="toast" class="toast"></div>

        <!-- Loading Overlay -->
        <div id="loadingOverlay" class="loading-overlay">
            <div class="spinner"></div>
            <p>İşleniyor...</p>
        </div>


        <script src="dashboard-script.js"></script>
    </body>
    </html>